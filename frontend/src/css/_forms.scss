.state-col {
  padding-right: 0;
  margin-right: 0;
}


.formset_div {
  padding-right: 0.9rem;
}

// Bootstrap 5: form-group replaced with mb-3
.mb-3 small a {
  text-decoration: none;
  color: inherit;
  font-weight: 600;

  &:hover {
    color: $primary;
  }
}

span.invalid-feedback {
  display: block;
}

textarea#id_seq,
.spectrum-field textarea {
  font-size: 0.8rem;
}

i.arrow {
  border: solid black;
  border-width: 0 3px 3px 0;
  display: inline-block;
  padding: 3px;
}

// fix for corner radius on collection form
.input-group-append .btn {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}


.query-row {
  padding: 0.2rem 0;

  // Bootstrap 5: form-group replaced with mb-3 (or just remove if not needed)
  .mb-3 {
    margin-top: 0.3rem;
    ;
    margin-bottom: 0.2rem;
  }
}

.button-row {
  margin-top: 0.5rem;
}

.query-row:nth-child(even) {
  background: $gray-300; // Mobile-first default
  border-radius: 3px;

  @include media-breakpoint-up(sm) {
    background: transparent;
    border-radius: 0;
  }
}


.formset_div {
  background: lighten($gray-200, 1);
  //@include gradient-y($start-color: #F3F3F3, $end-color: rgba($primary, 0.15), $start-percent: 0%, $end-percent: 100%)
  border-radius: 0.4rem;
  padding: 1rem 1.5rem 0.5rem 0.5rem;
  margin: 1rem 0;
  position: relative;

  .bleach-delete-button,
  .state-delete-button {
    position: absolute;
    top: 0.2rem;
    right: 1.35rem;
    font-weight: 700;
    font-size: 25px;
    background: none;
    border: none;
    color: $gray-600;
    box-shadow: none;

    &:hover {
      color: $gray-900;
      text-decoration: none;
    }

    &:active,
    &:focus {
      color: darken($red, 20);
    }
  }

  .bleach-delete-button {
    right: 0.8rem;
  }
}



.formset_div:has(> .bleach-delete-button) {
  background-color: red;
}

// adds a little arrow to the right of something...
// but not using because Bootstrap accordion gives same
// id to multiple elements
// $arrow-size: 5px;
// .panel-title{
// 	a{
// 		font-size: 1rem;
// 		font-weight: 500;
// 		color: $gray-600;
// 		&::after{
// 			    content: '';
// 			    position: relative;
// 			    left: 0.6rem;
// 			    top: -0.7rem;
// 			    width: 0;
// 			    height: 0;
// 			    border-left: $arrow-size solid transparent;
// 			    border-right: $arrow-size solid transparent;
// 			    border-bottom: $arrow-size solid $gray-600;
// 			    border-top: none;
// 			    clear: both;
// 		}
// 		&:not([aria-expanded="true"]) {
// 			&::after{
// 				    content: '';
// 				    position: relative;
// 				    left: 0.6rem;
// 				    top: 0.7rem;
// 				    width: 0;
// 				    height: 0;
// 				    border-left: $arrow-size solid transparent;
// 				    border-right: $arrow-size solid transparent;
// 				    border-top: $arrow-size solid $gray-600;
// 				    border-bottom: none;
// 				    clear: both;
// 			}
// 		}
// 	}
// }


#microscopeFormTabs {
  font-size: 0.80rem;

  @include media-breakpoint-up(md) {
    font-size: 1rem;
  }
}

/* dal bootstrap css fix */
#microscopeform .select2-container {
  width: 100% !important;
}

// select2 widgets
.select2-container {
  min-width: 1em !important;
  max-width: 100%;
  width: 100% !important; // Force full width for Bootstrap 5
}

ul li.select2-selection__choice,
ul li.select2-search {
  /* Cancel out django's style */
  list-style-type: none;
}


.form-select-sm .select2-selection--single {
  //height: 28px;
  //height: calc(2.25rem + 2px) !important;
  width: 80%;
}

.select2-selection--multiple .select2-search--inline {
  width: 10px !important;
}


// Fix Select2 in Bootstrap 5 input groups
.input-group {

  .select2-container--bootstrap-5,
  .select2-container--bootstrap {
    flex: 1 1 auto;
    width: 1% !important; // Override select2's width calculation

    .select2-selection {
      height: 100%;
      border-radius: 0;
    }
  }

  // Fix btn-group inside input-group (Bootstrap 5)
  > .btn-group {
    // First button in btn-group should have no left border radius (connect to previous element)
    > .btn:first-of-type,
    > label.btn:first-of-type {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }
  }
}

.bleach-form {
  .select2-selection__arrow {
    display: none;
  }

  .dynamic-form {

    // Bootstrap 5: form-group replaced with mb-3
    .mb-3 span.select2-container:nth-of-type(2) {
      display: none;
    }
  }
}

.microscope-form {
  .oc-delete-button {
    font-size: 2rem;
    color: #999;
    position: relative;
    top: -20px;
    right: 3px;
    width: 1px;
  }

  .oc-delete-button:hover {
    text-decoration: none;
  }

  .dynamic-oc-forms {
    .oc-filter-group span.select2-container:nth-of-type(2) {
      display: none;
    }

    .col-form-label {
      padding-top: 0;
    }
  }


  .select2-selection__choice {
    font-size: small;
  }

  .oc-filter-group .select2-selection--multiple .select2-selection__clear {
    display: none;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    display: none;
    -webkit-appearance: none;
    margin: 0;
    /* <-- Apparently some margin are still there even though it's hidden */
  }
}
